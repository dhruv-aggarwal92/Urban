<div class="container my-5">
    <h1 class="header-title">Carpenter Booking Slots</h1>
    <div class="row">
      <% for(let c of carp) { %>
        <div class="col-md-4">
          <div class="card p-3">
            <div class="card-body">
              <h5 class="card-title text-primary text-center mb-3">
                <%= c.carpenter_name %>
              </h5>
              <p class="card-text text-center">Available Slots</p>
              <div class="slot-container justify-content-center">
                <% c.available_slots.forEach(slot => { %>
                  <% if (!slot.booked) { %>
                    <!-- Available slot button -->
                    <form action="/booking/create/<%= c._id %>/<%= slot._id %>" method="POST" style="display:inline;">
                        <button type="submit" class="btn btn-outline-success slot-btn">
                          <%= slot.time %>
                        </button>
                      </form>
                      <!-- <a href="/book/<%= c._id %>/<%= slot._id %>" class="btn btn-outline-success slot-btn">
                        <%= slot.time %>
                      </a> -->
                  <% } else { %>
                    <!-- Booked slot badge -->
                    <form action="/book/<%= c._id %>/<%= slot._id %>" method="POST" style="display:inline;">

                    <button class="btn slot-badge slot-btn" disabled>
                      <%= slot.time %>
                    </button>
                </form>
                  <% } %>
                <% }) %>
              </div>
            </div>
          </div>
        </div>
      <% } %>
    </div>
  </div>


  <% if (locals.user) { %>
    <% if (cust.email === "daggarwal4_be21@thapar.edu") { %>
      <div class="card my-4 shadow-sm" style="max-width: 400px; margin: 0 auto;">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0">Add New Carpenter</h5>
        </div>
        <div class="card-body">
          <form action="/carp" method="POST">
            <div class="form-group">
              <label for="carpenterName">Carpenter Name</label>
              <input type="text" class="form-control" id="carpenterName" name="name" placeholder="Enter Carpenter Name" required>
            </div>
            <div class="form-group">
              <label for="carpenterId">Carpenter ID</label>
              <input type="text" class="form-control" id="carpenterId" name="id" placeholder="Enter Carpenter ID" required>
            </div>
            <button type="submit" class="btn btn-success btn-block">Add Carpenter</button>
          </form>
        </div>
      </div>
    <% } %>
  <% } %>
  


 <!-- Bootstrap JS and dependencies -->
 <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
 <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>